<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zeksport</title>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<style>
  body { font-family: Arial, sans-serif; background: #121212; color: #fff; margin:0; }
  header { padding: 10px; background: #1f1f1f; display: flex; gap: 10px; flex-wrap: wrap; }
  header button { background: #333; border:none; padding:10px 15px; color:#fff; cursor:pointer; border-radius:5px;}
  header button:hover { background:#555; }
  .vlc-btn { margin-left:auto; background:#0078D7; }
  video { width:100%; max-width:100%; height:auto; display:block; margin:0 auto; background:#000; margin-top:10px; }
</style>
</head>
<body>

<header>
  <button onclick="changeServer(0)">Sunucu 1</button>
  <button onclick="changeServer(1)">Sunucu 2</button>
  <button onclick="changeServer(2)">Sunucu 3</button>
  <button onclick="changeServer(3)">Sunucu 4</button>
  <button id="vlcBtn" class="vlc-btn">VLC ile Aç</button>
</header>

<video id="video" controls autoplay></video>

<script>
  // Yayın linklerini Base64 ile gizleme
  const links = [
    "aHR0cHM6Ly9leGFtcGxlLmNvbS9saW5rMS5tM3U4", // link1
    "aHR0cHM6Ly9leGFtcGxlLmNvbS9saW5rMi5tM3U4", // link2
    "aHR0cHM6Ly9leGFtcGxlLmNvbS9saW5rMy5tM3U4", // link3
    "aHR0cHM6Ly9leGFtcGxlLmNvbS9saW5rNC5tM3U4"  // link4
  ];

  const video = document.getElementById('video');
  const vlcBtn = document.getElementById('vlcBtn');
  let hls;
  let currentIndex = 0;

  function changeServer(index){
    currentIndex = index;
    const url = atob(links[index]); // Base64 çöz
    if(hls) { hls.destroy(); }
    if(Hls.isSupported()){
      hls = new Hls();
      hls.loadSource(url);
      hls.attachMedia(video);
      hls.on(Hls.Events.MANIFEST_PARSED,function() { video.play(); });
    } else if(video.canPlayType('application/vnd.apple.mpegurl')){
      video.src = url;
      video.addEventListener('loadedmetadata',()=>{ video.play(); });
    }
  }

  // Sayfa açılınca Sunucu 1'i başlat
  changeServer(0);

  // VLC ile açma butonu
  vlcBtn.addEventListener('click', () => {
    const url = atob(links[currentIndex]);
    // .m3u açtırmak için tarayıcıda indirilebilir
    const blob = new Blob([`#EXTM3U\n#EXTINF:-1,Sunucu ${currentIndex+1}\n${url}`], { type: 'audio/x-mpegurl' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = `Sunucu${currentIndex+1}.m3u`;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  });
</script>

</body>
</html>
